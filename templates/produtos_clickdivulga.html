<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Produtos - ClickDivulga</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/grupos.css') }}">
</head>
<body>
  <div class="sidebar">
    <h2>ClickDivulga</h2>
    <div class="menu">
      <a href="/painel"><i>🏠</i> Dashboard</a>
      <a href="/criar-link"><i>➕</i> Criar Link</a>
      <a href="/grupos"><i>📊</i> Desempenho de Grupos</a>
      <a href="/produtos" class="active"><i>🛍️</i> Produtos</a>
      <a href="/minha-api"><i>🔐</i> API Shopee</a>
      <a href="/logout"><i>🚪</i> Sair</a>
    </div>
  </div>

  <div class="content">
    <div class="topbar">
      <h1>🛍️ Buscar Produtos com Comissão</h1>
    </div>

    <div style="display: flex; gap: 30px; flex-wrap: wrap; margin-bottom: 40px;">
      <div style="flex: 1; background:white; padding:30px; border-radius:16px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); min-width: 300px;">
        <h2 style="margin-bottom:20px; color:#5e3ea1;">🔎 Palavra-chave ou Link</h2>
        <form method="POST" action="/buscar-produto" onsubmit="return validarCampos();">
          <label>Palavra-chave:</label>
          <input type="text" name="keyword" id="campoKeyword" placeholder="Ex: whey, ring light"
            style="width: 70%; margin: 10px 0; padding: 10px; border-radius: 8px;">

          <label>Link direto:</label>
          <input type="url" name="url" id="campoUrl" placeholder="https://shopee.com.br/..."
            style="width: 100%; margin: 10px 0 20px; padding: 10px; border-radius: 8px;">

          <label>Categoria (obrigatória):</label>
          <select name="categoria" id="campoCategoria" required style="width: 100%; margin-bottom: 20px; padding: 10px; border-radius: 8px;">
            <option value="" disabled selected>-- Selecione uma categoria --</option>
            <option value="100001">Moda Masculina</option>
            <option value="100002">Moda Feminina</option>
            <option value="100003">Acessórios de Moda</option>
            <option value="100004">Celulares e Gadgets</option>
            <option value="100005">Casa e Decoração</option>
            <option value="100006">Eletrônicos</option>
            <option value="100007">Computadores e Acessórios</option>
            <option value="100008">Eletrodomésticos</option>
            <option value="100009">Brinquedos</option>
            <option value="100010">Esporte e Lazer</option>
            <option value="100011">Automotivo</option>
            <option value="100012">Livros e Papelaria</option>
            <option value="100013">Beleza e Cuidados</option>
            <option value="100014">Mercado</option>
            <option value="100016">Pet Shop</option>
          </select>

          <button type="submit" style="width: 100%; background-color: #5e3ea1; color: white; padding: 12px; border-radius: 8px;">🔍 Buscar Produto</button>
        </form>
      </div>

      <div style="flex: 1; background:white; padding:30px; border-radius:16px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); min-width: 300px;">
        <h2 style="margin-bottom:20px; color:#5e3ea1;">🏪 Produtos por Loja</h2>
        <form method="POST" action="/buscar-loja">
          <label>Nome ou link da loja:</label>
          <input type="text" name="loja" placeholder="Ex: niveaoficial ou link da loja"
            style="width: 100%; margin: 10px 0; padding: 10px; border-radius: 8px;" required>

          <label>Preço mínimo:</label>
          <input type="number" name="preco_min" step="0.01" placeholder="Ex: 50.00"
            style="width: 100%; margin: 10px 0; padding: 10px; border-radius: 8px;">

          <label>Preço máximo:</label>
          <input type="number" name="preco_max" step="0.01" placeholder="Ex: 200.00"
            style="width: 100%; margin: 10px 0 20px; padding: 10px; border-radius: 8px;">

          <button type="submit" style="width: 100%; background-color: #5e3ea1; color: white; padding: 12px; border-radius: 8px;">🔍 Buscar Loja</button>
        </form>
      </div>
    </div>
  </div>

  <script>
    function validarCampos() {
      const keyword = document.getElementById("campoKeyword").value.trim();
      const url = document.getElementById("campoUrl").value.trim();
      const categoria = document.getElementById("campoCategoria").value;
      if (!keyword && !url) {
        alert("Preencha pelo menos a palavra-chave ou o link da Shopee.");
        return false;
      }
      if (!categoria) {
        alert("Selecione uma categoria.");
        return false;
      }
      return true;
    }
  </script>
</body>
</html>
